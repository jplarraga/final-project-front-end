{"ast":null,"code":"import _slicedToArray from\"/Users/usuario/Desktop/CURSO_MERN/Proyecto Front End Banking Application/Banking_Application/banking-application/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from\"react\";import TransactionContext from\"../../Context/TransactionContext\";import{Card}from'../../Card/card';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Template(_ref){var title=_ref.title,bgcolor=_ref.bgcolor,txtcolor=_ref.txtcolor,header=_ref.header,showImage=_ref.showImage,showBalance=_ref.showBalance,showDeposit=_ref.showDeposit,showWithdraw=_ref.showWithdraw;var _useContext=useContext(TransactionContext),data=_useContext.data;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),deposit=_useState2[0],setDeposit=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),withdraw=_useState4[0],setWithdraw=_useState4[1];var _useState5=useState(Number([data[0].balance])),_useState6=_slicedToArray(_useState5,2),totalState=_useState6[0],setTotalState=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),validTransaction=_useState8[0],setValidTransaction=_useState8[1];var handleDepositChange=function handleDepositChange(event){if(Number(event.target.value)<0){window.alert(\"Amount negative not permited\");setDeposit(0);setValidTransaction(true);}if(deposit<0){setDeposit(0);setValidTransaction(true);}else{setDeposit(Number(event.target.value));}if(event.target.value<=0)return;setValidTransaction(false);};var handleWithdrawChange=function handleWithdrawChange(event){if(Number(event.target.value)<0){window.alert(\"Negative Amount not permited\");setWithdraw(0);setValidTransaction(true);}if(withdraw<0){setWithdraw(0);setValidTransaction(true);}else{setWithdraw(Number(event.target.value));}if(event.target.value<=0)return;setValidTransaction(true);if(event.target.value>totalState){alert(\"Your balance $ \".concat(totalState,\" is insufficient to make this widthdraw\"));setValidTransaction(true);}else{setValidTransaction(false);}};var handleWithdrawSubmit=function handleWithdrawSubmit(event){var newTotal=totalState-withdraw;setTotalState(newTotal);console.log(totalState);setValidTransaction(true);event.preventDefault();};var handleDepositSubmit=function handleDepositSubmit(event){var newDepositTotal=totalState+deposit;setTotalState(newDepositTotal);console.log(totalState);setValidTransaction(true);event.preventDefault();};return/*#__PURE__*/_jsx(Card,{title:title,bgcolor:bgcolor,txtcolor:txtcolor,header:header,body:/*#__PURE__*/_jsxs(\"div\",{children:[showImage?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"img\",{src:\"badbank.png\",className:\"img-fluid\",alt:\"badbank\"})}):/*#__PURE__*/_jsx(_Fragment,{}),showBalance?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsx(\"label\",{id:\"total\",className:\"form-label\",children:\"BALANCE\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsx(\"label\",{id:\"total\",children:totalState})})]})}):/*#__PURE__*/_jsx(_Fragment,{}),showWithdraw?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleWithdrawSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\",children:/*#__PURE__*/_jsx(\"label\",{id:\"total\",className:\"form-label\",children:\"WITHDRAW AMOUNT\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\",children:/*#__PURE__*/_jsx(\"input\",{id:\"number-input\",type:\"input\",width:\"200\",onChange:handleWithdrawChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",type:\"submit\",width:\"200\",value:\"Submit\",id:\"submit-input\",disabled:validTransaction,children:\"WITHDRAW\"})})]})}):/*#__PURE__*/_jsx(_Fragment,{}),showDeposit?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleDepositSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\",children:/*#__PURE__*/_jsx(\"label\",{id:\"total\",className:\"form-label\",children:\"DEPOSIT AMOUNT\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\",children:/*#__PURE__*/_jsx(\"input\",{id:\"number-input\",type:\"input\",width:\"200\",onChange:handleDepositChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",type:\"submit\",width:\"200\",value:\"Submit\",id:\"submit-input\",disabled:validTransaction,children:\"DEPOSIT\"})})]})}):/*#__PURE__*/_jsx(_Fragment,{})]})});}export{Template};","map":{"version":3,"sources":["/Users/usuario/Desktop/CURSO_MERN/Proyecto Front End Banking Application/Banking_Application/banking-application/src/components/Main/Template/template.jsx"],"names":["React","useContext","useState","TransactionContext","Card","Template","title","bgcolor","txtcolor","header","showImage","showBalance","showDeposit","showWithdraw","data","deposit","setDeposit","withdraw","setWithdraw","Number","balance","totalState","setTotalState","validTransaction","setValidTransaction","handleDepositChange","event","target","value","window","alert","handleWithdrawChange","handleWithdrawSubmit","newTotal","console","log","preventDefault","handleDepositSubmit","newDepositTotal"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from \"react\";\nimport TransactionContext from \"../../Context/TransactionContext\";\nimport { Card } from '../../Card/card';\n\n\nfunction Template({\n    title,\n    bgcolor,\n    txtcolor,\n    header,\n    showImage,\n    showBalance,\n    showDeposit,\n    showWithdraw\n}) {\n\n    const { data } = useContext(TransactionContext);\n    const [deposit, setDeposit] = useState(0);\n    const [withdraw, setWithdraw] = useState(0);\n    const [totalState, setTotalState] = useState(Number([data[0].balance]));\n    const [validTransaction, setValidTransaction] = useState(true);\n\n\n    const handleDepositChange = (event) => {\n\n        if(Number(event.target.value) < 0){\n            window.alert(`Amount negative not permited`);\n            setDeposit(0);\n            setValidTransaction(true);\n        }\n        \n\n        if(deposit < 0) {    \n            setDeposit(0);\n            setValidTransaction(true);\n\n        } else {\n            setDeposit(Number(event.target.value));\n        }\n       \n        if(event.target.value <= 0) return;\n\n        setValidTransaction(false);\n    };\n\n    const handleWithdrawChange = (event) => {\n\n        if(Number(event.target.value) < 0){\n            window.alert(`Negative Amount not permited`);\n            setWithdraw(0);\n            setValidTransaction(true);\n        }\n        if(withdraw < 0) {\n            setWithdraw(0);\n            setValidTransaction(true);\n        } else {\n            setWithdraw(Number(event.target.value));\n        }\n        if(event.target.value <= 0 ) return;\n        setValidTransaction(true);\n\n        if(event.target.value > totalState) {\n            alert(`Your balance $ ${totalState} is insufficient to make this widthdraw`);\n            setValidTransaction(true);\n        } else {\n            setValidTransaction(false)\n        }\n    };\n\n\n   \n\n    const handleWithdrawSubmit = (event) =>{\n        let newTotal = totalState - withdraw;\n        setTotalState(newTotal);\n        console.log(totalState);\n        setValidTransaction(true);\n        event.preventDefault();\n    }\n\n    const handleDepositSubmit = (event) => {\n        let newDepositTotal = totalState + deposit;\n        setTotalState(newDepositTotal);\n        console.log(totalState);\n        \n        setValidTransaction(true);\n        event.preventDefault();\n    }\n\n    return(\n        <Card\n            title={title}\n            bgcolor={bgcolor}\n            txtcolor={txtcolor}\n            header={header}\n            body={\n                <div>\n                    {\n                        showImage ? (\n                        <>\n                        <img src=\"badbank.png\" className=\"img-fluid\" alt=\"badbank\"/>\n                        </>):(\n                        <>\n                        </>)\n                    }\n                    {\n                        showBalance ? (\n                        <>\n                            <div className=\"row mb-3\">\n                                <div className=\"col-auto\">\n                                    <label id=\"total\" className=\"form-label\">BALANCE</label>\n                                </div>\n                                <div className=\"col-auto\">\n                                    <label id=\"total\">{totalState}</label>\n                                </div>\n                            </div>\n\n                        </>\n\n                        ):(\n                        <>\n                        </>)\n                    }\n                    {\n                        showWithdraw ? (\n                        <>\n                            <form onSubmit={handleWithdrawSubmit}>\n                                <div className=\"row mb-3\">\n                                    <label id=\"total\" className=\"form-label\">WITHDRAW AMOUNT</label>\n                                </div>\n                                <div className=\"row mb-3\">\n                                    <input id=\"number-input\" type=\"input\" width=\"200\" onChange={handleWithdrawChange}/>\n                                </div>\n                                <div className=\"row mb-3\">\n                                    <button  className=\"btn btn-secondary\" type=\"submit\" width=\"200\" value=\"Submit\" id=\"submit-input\" disabled={validTransaction}>WITHDRAW</button>\n                                </div>\n                            </form>\n                        </>\n                        ):(\n                        <>\n                        </>)\n                    }\n                    {\n                        showDeposit ? (\n                        <>\n                            <form onSubmit={handleDepositSubmit}>\n                                <div className=\"row mb-3\">\n                                    <label id=\"total\" className=\"form-label\">DEPOSIT AMOUNT</label>\n                                </div>\n                                <div className=\"row mb-3\">\n                                    <input id=\"number-input\" type=\"input\" width=\"200\" onChange={handleDepositChange}/>\n                                </div>\n                                <div className=\"row mb-3\">\n                                    <button  className=\"btn btn-secondary\" type=\"submit\" width=\"200\" value=\"Submit\" id=\"submit-input\" disabled={validTransaction}>DEPOSIT</button>\n                                </div>\n                            </form>\n                        </>\n                        ):(\n                        <>\n                        </>)\n                    }\n\n                </div>\n\n            }\n        \n        \n        />\n    )\n\n}\n\nexport { Template };"]},"metadata":{},"sourceType":"module"}